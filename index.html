Query:<br>
<textarea rows=5 cols=80 id=query>SELECT * FROM Tuotteet;</textarea>
<br>
<button onclick="test();">lol</button>
<br><br>
<div id="result"></div>
<script src="dist/sql-wasm.js"></script>
<script>

function sql_run(context,query) {
    config = {locateFile: filename => `dist/${filename}`};

    initSqlJs(config).then(function(SQL){
        var db = new SQL.Database();
        db.run(context);
        try {
            var result = db.exec(query);
            sql_result(result);
        } catch(error) {
            sql_error(error);
        }
    });
}

function sql_result(result) {
    var table = "";
    if (result.length == 0) {
        table = "No results";
    } else {
        table += "<table border>";
        table += "<tr>";
        for (var i = 0; i < result[0].columns.length; i++) {
            table += "<th>"+result[0].columns[i]+"</th>";
        }
        table += "</tr>";
        for (var i = 0; i < result[0].values.length; i++) {
            table += "<tr>";
            for (var j = 0; j < result[0].values[i].length; j++) {
                table += "<td>"+result[0].values[i][j]+"</td>";
            }
            table += "</tr>";
        }
        table += "</table>";
    }
    document.getElementById("result").innerHTML = table;
}

function sql_error(error) {
    document.getElementById("result").innerHTML = "Error: "+error;
}

function test() {
    var query = document.getElementById("query").value;
    var context = "";
    context += "CREATE TABLE Tuotteet(id INTEGER PRIMARY KEY, nimi TEXT, hinta INTEGER);";
    context += "INSERT INTO Tuotteet(nimi,hinta) VALUES ('selleri',5);";
    context += "INSERT INTO Tuotteet(nimi,hinta) VALUES ('lanttu',8);";
    context += "INSERT INTO Tuotteet(nimi,hinta) VALUES ('retiisi',4);";
    sql_run(context,query);
}

</script>
